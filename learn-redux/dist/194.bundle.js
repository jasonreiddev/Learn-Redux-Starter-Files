"use strict";(self.webpackChunklearn_redux=self.webpackChunklearn_redux||[]).push([[194],{567:(n,e,t)=>{t.d(e,{GV:()=>o,jL:()=>i});var r=t(468),i=r.wA.withTypes(),o=r.d4.withTypes();r.Pj.withTypes()},308:(n,e,t)=>{t.d(e,{$:()=>z});var r,i,o,a,l,c,u,d,p,s=t(540),m=t(937),g=t(691),f=t(567),h=t(41),v=t(715),y=t(976),b=t(894),x=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},w=v.Ay.div(r||(r=x(["\n  background: white;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  figcaption {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n"],["\n  background: white;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  figcaption {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n"]))),E=v.Ay.div(i||(i=x(["\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"],["\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"]))),k=(0,v.Ay)(y.N_)(o||(o=x(["\n  grid-area: 1 / 1;\n  width: 100%;\n"],["\n  grid-area: 1 / 1;\n  width: 100%;\n"]))),j=v.Ay.img(a||(a=x(["\n  width: 100%;\n"],["\n  width: 100%;\n"]))),C=(0,v.Ay)(b.P.span)(l||(l=x(["\n  font-size: 2rem;\n  padding: 1rem;\n  grid-area: 1 / 1;\n  color: var(--blue);\n  pointer-events: none;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n\n  span {\n    grid-area: 1 / 1;\n    margin: 12px;\n  }\n\n  svg {\n    grid-area: 1 / 1;\n    color: white;\n    width: 100%;\n    height: 100%;\n  }\n"],["\n  font-size: 2rem;\n  padding: 1rem;\n  grid-area: 1 / 1;\n  color: var(--blue);\n  pointer-events: none;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n\n  span {\n    grid-area: 1 / 1;\n    margin: 12px;\n  }\n\n  svg {\n    grid-area: 1 / 1;\n    color: white;\n    width: 100%;\n    height: 100%;\n  }\n"]))),A=v.Ay.div(c||(c=x(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: auto;\n"],["\n  display: flex;\n  justify-content: space-between;\n  margin-top: auto;\n"]))),O=(0,v.AH)(u||(u=x(["\n  border: 2px solid lightgrey;\n  background: none;\n  flex-basis: 48%;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  justify-content: center;\n  line-height: 2;\n  text-decoration: none;\n  padding: 5px;\n  text-align: center;\n  font-size: 15px;\n  color: var(--blue);\n  transition: all 0.2s;\n\n  &:hover,\n  &:focus {\n    border-color: var(--blue);\n    outline: 0;\n  }\n"],["\n  border: 2px solid lightgrey;\n  background: none;\n  flex-basis: 48%;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  justify-content: center;\n  line-height: 2;\n  text-decoration: none;\n  padding: 5px;\n  text-align: center;\n  font-size: 15px;\n  color: var(--blue);\n  transition: all 0.2s;\n\n  &:hover,\n  &:focus {\n    border-color: var(--blue);\n    outline: 0;\n  }\n"]))),P={Figure:w,Wrapper:E,ImageLink:k,Image:j,Likes:C,Controls:A,Link:(0,v.Ay)(y.N_)(d||(d=x(["\n  ","\n"],["\n  ","\n"])),O),Button:v.Ay.button(p||(p=x(["\n  ","\n"],["\n  ","\n"])),O)},z=function(n){var e=n.postCode,t=(0,f.jL)(),r=(0,f.GV)((function(n){return n.posts})),i=(0,f.GV)((function(n){return n.comments})),o=r.find((function(n){return n.code===e})),a=i[e]||[];return s.createElement(P.Figure,null,s.createElement(P.Wrapper,null,s.createElement(P.ImageLink,{to:"/view/".concat(o.code)},s.createElement(P.Image,{src:o.display_src,alt:o.caption})),s.createElement(g.N,{initial:!1},s.createElement(P.Likes,{key:o.likes,animate:{opacity:[0,.8,1,0],scale:[0,.8,1]},transition:{duration:.5}},s.createElement(m.Mbv,null),s.createElement("span",null,o.likes)))),s.createElement("figcaption",null,s.createElement("p",null,o.caption),s.createElement(P.Controls,null,s.createElement(P.Button,{onClick:function(){return t((0,h.c)({postId:o.id}))}},s.createElement(m.Mbv,null)," ",o.likes),s.createElement(P.Link,{to:"/view/".concat(o.code,"#comment")},s.createElement(m.j1Q,null),(null==a?void 0:a.length)||0))))}},194:(n,e,t)=>{t.r(e),t.d(e,{Single:()=>I});var r,i,o,a,l,c,u,d,p,s=t(540),m=t(767),g=t(308),f=t(567),h=t(467),v=t(715),y={Form:v.Ay.form(r||(d=["\n  input,\n  textarea {\n    width: 100%;\n    border: 0;\n    font-size: 1.3rem;\n    padding: 1rem 0.5rem;\n    border-bottom: 1px solid var(--lightgrey);\n    outline: none;\n    resize: vertical;\n\n    &:focus {\n      border-color: var(--blue);\n    }\n  }\n"],p=["\n  input,\n  textarea {\n    width: 100%;\n    border: 0;\n    font-size: 1.3rem;\n    padding: 1rem 0.5rem;\n    border-bottom: 1px solid var(--lightgrey);\n    outline: none;\n    resize: vertical;\n\n    &:focus {\n      border-color: var(--blue);\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(d,"raw",{value:p}):d.raw=p,r=d))},b=function(){return b=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},b.apply(this,arguments)},x=function(){return x=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},x.apply(this,arguments)},w=function(n){var e=n.initialForm,t=n.callBack,r=n.formId,i=function(n,e){var t=(0,s.useState)(n),r=t[0],i=t[1];return{handleSubmit:function(n){n.preventDefault(),e(r),i((function(n){return n.map((function(n){return n.retainOnSubmit?n:b(b({},n),{value:""})}))}))},handleInputChange:function(n,e){var t=n.target.value;i((function(n){return n.map((function(n,r){return r===e?b(b({},n),{value:t}):n}))}))},form:r}}(e,t),o=i.handleSubmit,a=i.handleInputChange,l=i.form,c=(0,m.zy)();return(0,s.useEffect)((function(){var n;if(c.hash==="#".concat(r)){var e=l.findIndex((function(n){return!n.value}));null===(n=l[e>-1?e:l.length-1].ref.current)||void 0===n||n.focus()}}),[c]),s.createElement(y.Form,{onSubmit:o},l.map((function(n,e){return s.createElement("input",x({},n,{key:e,onChange:function(n){return a(n,e)}}))})),s.createElement("input",{type:"submit",hidden:!0}))},E=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},k=v.Ay.div(i||(i=E(["\n  flex: 1 0 40%;\n  position: relative;\n  min-height: 100%;\n"],["\n  flex: 1 0 40%;\n  position: relative;\n  min-height: 100%;\n"]))),j=v.Ay.div(o||(o=E(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  display: flex;\n  flex-direction: column-reverse;\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  display: flex;\n  flex-direction: column-reverse;\n"]))),C=v.Ay.div(a||(a=E(["\n  margin-top: auto;\n"],["\n  margin-top: auto;\n"]))),A=v.Ay.button(l||(l=E(["\n  background: none;\n  border: 0;\n  line-height: 1;\n  opacity: 0;\n  display: inline;\n\n  &:hover {\n    color: red;\n  }\n"],["\n  background: none;\n  border: 0;\n  line-height: 1;\n  opacity: 0;\n  display: inline;\n\n  &:hover {\n    color: red;\n  }\n"]))),O={Wrapper:k,Container:j,FormWrapper:C,Comment:v.Ay.div(c||(c=E(["\n  border-bottom: 1px solid var(--lightgrey);\n  padding: 0.5rem 0;\n  p {\n    font-size: 1.2rem;\n    margin: 0;\n  }\n  strong {\n    color: var(--blue);\n    margin-right: 5px;\n  }\n\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"],["\n  border-bottom: 1px solid var(--lightgrey);\n  padding: 0.5rem 0;\n  p {\n    font-size: 1.2rem;\n    margin: 0;\n  }\n  strong {\n    color: var(--blue);\n    margin-right: 5px;\n  }\n\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"])),A),RemoveButton:A},P=function(n){var e=n.postCode,t=(0,f.jL)(),r=(0,f.GV)((function(n){return n.comments}))[e]||[],i=[{type:"text",id:"author",placeholder:"author",required:!0,value:"",ref:(0,s.useRef)(),retainOnSubmit:!0},{type:"text",id:"comment",placeholder:"comment",required:!0,value:"",ref:(0,s.useRef)()}];return s.createElement(O.Wrapper,null,s.createElement(O.Container,null,s.createElement(O.FormWrapper,null,s.createElement(w,{initialForm:i,callBack:function(n){return t((0,h.BC)({postCode:e,author:n[0].value,comment:n[1].value}))},formId:"comment"})),r.slice(0).reverse().map((function(n,i){return s.createElement(O.Comment,{key:i},s.createElement("p",null,s.createElement("strong",null,n.user),n.text,s.createElement(O.RemoveButton,{onClick:function(){return t((0,h.IG)({postCode:e,i:r.length-1-i}))}},"Ã—")))}))))},z={Wrapper:v.Ay.div(u||(u=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n  padding: 2rem;\n  border: 1px solid var(--lightgrey);\n  background: white;\n  box-shadow: 0 0 0 5px rgba(0, 0, 0, 0.03);\n  position: relative;\n  max-width: 900px;\n  margin: 0 auto;\n  display: flex;\n  gap: 2rem;\n"],["\n  padding: 2rem;\n  border: 1px solid var(--lightgrey);\n  background: white;\n  box-shadow: 0 0 0 5px rgba(0, 0, 0, 0.03);\n  position: relative;\n  max-width: 900px;\n  margin: 0 auto;\n  display: flex;\n  gap: 2rem;\n"])))},I=function(){var n=(0,m.g)().postCode;return s.createElement(z.Wrapper,null,s.createElement(g.$,{postCode:n}),s.createElement(P,{postCode:n}))}}}]);